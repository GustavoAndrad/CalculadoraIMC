<!DOCTYPE html>
<html lang="pt-br">
<head>
    <!--FUNCIONALIDADES PARA O FUTURO
    - FORMATAÇÃO DA ENTRADS DE KG E METROS
    - LEVAR MAIS DADOS EM CONSIDERAÇÃO
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="imagex/png" href="./balança.png">
    <link rel="stylesheet" href="style.css">
    <title>Calculadora de IMC</title>
</head>
<body>
    <main>
        <div class="conteiner">
            <h2>Descubra seu IMC!</h2>

            <form id="formulario">
                <div id="result-ajuda">
                    <div id="box-resultado">
                        <input id="resultado" type="text" placeholder="Seu resultado aparecerá aqui!" disabled>
                    </div>
                    <button type="button" id="ajuda" onclick="detalhesIMC()" disabled title="Preencha os campos para ver seu resultado">?</button>
                </div>
       
                <div id="box-dados">
                   <input class="dados" id="peso" type="number" placeholder="Peso em Kg">
                   <input class="dados" id="altura" type="number" placeholder="Altura em M">
               </div>
       
               <div id="box-botoes">
                   <button class="botao-envio" id="reset" type="reset" onclick="resetarIMC()">Tentar denovo</button>
                   <button class="botao-envio" id="calcula" type="button" onclick="calcularIMC()">Calcular</button>
               </div>
            </form>
    
        </div>
    </main>

    <p id="copyright">⭐ Direitos reservados à @GustavoAndrad ⭐</p>

    <script>

        
        document.getElementById('peso').addEventListener("keyup", ()=>{
            if(document.getElementById('peso').value!=''){
                document.getElementById('peso').style.caretColor = "black"
            } else{
                document.getElementById('peso').style.caretColor = "transparent"
            }
        });

        document.getElementById('altura').addEventListener("keyup", ()=>{
            if(document.getElementById('altura').value!=''){
                document.getElementById('altura').style.caretColor = "black"
            } else{
                document.getElementById('altura').style.caretColor = "transparent"
            }
        });
        
        let imc = null;
        function calcularIMC(){
            const peso = document.getElementById('peso').value;
            const altura = document.getElementById('altura').value;

            if(peso!='' && altura!='' && altura!=0){
                imc = (peso/Math.pow(altura,2)).toFixed(1);
                let resultado = "";
                
                if(imc<16){  
                    resultado = "Magreza Grau III"  
                    document.getElementById('resultado').style.color = "blue" 
                } 
                else if(imc<17){  
                    resultado = "Magreza Grau II"   
                    document.getElementById('resultado').style.color = "blue"
                }
                else if(imc<18.5){  
                    resultado = "Magreza Grau I"   
                    document.getElementById('resultado').style.color = "blue"
                }
                else if(imc<25){  
                    resultado = "Adequado"  
                    document.getElementById('resultado').style.color = "green" 
                }
                else if(imc<30){  
                    resultado = "Obesidade Grau I"  
                    document.getElementById('resultado').style.color = "brown" 
                }
                else if(imc<35){  
                    resultado = "Obesidade Grau I" 
                    document.getElementById('resultado').style.color = "brown"  
                }
                else{  
                    resultado = "Obesidade Grau III"   
                    document.getElementById('resultado').style.color = "brown"
                }
    
                document.getElementById('resultado').value = `Sua classificação é: ${resultado}`;

                document.getElementById("ajuda").disabled = false;
            } else{
                document.getElementById('resultado').style.color = "brown"
                document.getElementById('resultado').value = `Preencha todos os campos!`;
            }
        }

        function resetarIMC(){
            imc = 0;
            document.getElementById("ajuda").disabled = true;
        }

        function detalhesIMC(){
            alert(`Seu IMC é: ${imc}.\nEsse resultado é obtido por peso/altura^2`);
        }

    </script>
</body>
</html>